@import controllers.QueryControllerUtil
@*
* This template takes a single argument, a String containing a
* message to display.
*@
@(dbname: String, query: String, innerHtml: String, results: Seq[ResultObj])

@*
* Call the `main` template with two arguments. The first
* argument is a `String` with the title of the page, the second
* argument is an `Html` object containing the body of the page.
*@
@main("Result") {

    @*
    * Get an `Html` object by calling the built-in Play welcome
    * template and passing a `String` message.
    * @play20.welcome(message, style = "Scala")
    *@
    <h2>@query</h2>

    <ul class="largehint">
        <li><a class="largehint" href='@routes.PerClassController.query(dbname, query)'>Per-class analysis of current objects.</a></li>
        <li><a class="largehint" href='@routes.QueryController.query(dbname, s"IsNot($query)")'>IsNot(..) - Negate current query.</a></li>
        <li><a class="largehint" href='@routes.QueryController.query(dbname, s"Deeply($query)")'>Deeply(..) - Deep query.</a></li>
        <li><a class="largehint" href='@routes.QueryController.query(dbname, s"ReachableFrom($query)")'>ReachableFrom(..) - All objects reachable from current objects.</a></li>
        <li><a class="largehint" href='@routes.QueryController.query(dbname, s"CanReach($query)")'>CanReach(..) - All objects that can reach the current objects.</a></li>
    </ul>

    @helper.form(action = routes.QueryController.queryDataPost(dbname)) {
        <div class="result" style="overflow-y: scroll; height: 100%;">
            @Html(controllers.QueryControllerUtil.objectQueryResultAsHtml(dbname, query, results))
        </div>
        <input type="submit" value="Select objects"/>
    }
}
